/* src/app.css */
/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Brand + base ---- */

/* Font (Poppins everywhere) */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap");

html { scroll-behavior: smooth; }
:root{
  /* Core brand */
  --mrf-primary: #0f172a;             /* slate-900 */
  --mrf-primary-700: #0b1221;
  --mrf-text-on-primary: #ffffff;

  /* Gold accents */
  --mrf-gold: #c9a227;
  --mrf-gold-600: #b0881e;
  --mrf-gold-25: rgba(201,162,39,.08);
  --mrf-gold-35: rgba(201,162,39,.20);

  /* Neutrals */
  --mrf-ink: #0b0e14;
  --mrf-subtle: #6b7280;
  --mrf-border: #e6e7ea;

  /* Layout */
  --sticky-offset: 64px;
  --card-radius: 14px;
  --shadow-soft: 0 1px 2px rgba(0,0,0,.06), 0 8px 24px rgba(15,23,42,.06);
  --shadow-hover: 0 1px 3px rgba(0,0,0,.08), 0 10px 30px rgba(15,23,42,.12);
}

/* Global font */
html, body, * { font-family: "Poppins", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji" }

/* Utilities */
.container{max-width:1280px;margin:0 auto;padding:1rem} /* wider container per #2 */
.shadow-soft{box-shadow:0 1px 2px rgba(0,0,0,.05),0 1px 3px rgba(0,0,0,.1)}
.hidden{display:none !important}
.whitespace-nowrap{white-space:nowrap}

/* Sticky shell and jump links */
.dir-sticky{
  position: sticky; top: 0; z-index: 30;
  background: rgba(255,255,255,.96);
  backdrop-filter: saturate(1.6) blur(8px);
  border-bottom: 1px solid var(--mrf-border);
}
#jump a{
  border:1px solid var(--mrf-border);
  border-radius:9999px;
  padding:.375rem .75rem;
  font-weight:500;
  color: var(--mrf-ink);
  transition: background .18s ease, box-shadow .18s ease, transform .18s ease;
}
#jump a:hover{ background:#f8fafc; transform: translateY(-1px); }
#jump a.bg-gray-100{ background:var(--mrf-gold-25); box-shadow: inset 0 0 0 1px var(--mrf-gold-35); }
/* Make the checkbox label stay on one line (5) */
#controls .featured-only-label{ white-space: nowrap; }

/* Category headings (8 → sans, Poppins) */
section>h2{
  font-size: 1.125rem; font-weight: 700; letter-spacing: -0.01em;
  padding: .75rem .5rem; border-bottom: 1px solid var(--mrf-border);
  background: rgba(255,255,255,.85);
  color: var(--mrf-ink);
  /* (9) ensure anchor scroll keeps title visible under sticky nav */
  scroll-margin-top: calc(var(--sticky-offset) + 14px);
}

/* Card */
.card{
  position: relative;
  border:1px solid var(--mrf-border);
  border-radius: var(--card-radius);
  background:#fff;
  box-shadow: var(--shadow-soft);
  transition: box-shadow .18s ease, transform .18s ease, border-color .18s ease;
  padding:25px;
  overflow:hidden;
}
.card:hover{ box-shadow: var(--shadow-hover); transform: translateY(-2px); }
.card--premium{
  box-shadow: var(--shadow-soft), 0 0 0 1px var(--mrf-gold-35) inset;
  border-color: #f0e9d0;
}

/* Replace old pill with diagonal corner ribbon (6) */
.card .ribbon{
  position:absolute;
  z-index:5;
  top:12px;
  right:-48px;              /* pull past the edge so the diagonal sits on the corner */
  width:180px;              /* visual length of the ribbon */
  padding:.35rem 0 .35rem 25px;
  text-align:center;
  text-transform:uppercase;
  white-space:nowrap;
  letter-spacing:.08em;
  font-weight:700;
  font-size:.70rem;
  color:#5b4406;
  background: linear-gradient(180deg,#fff8e1,#f6e1a0);
  border-top:1px solid #e8d79a;
  border-bottom:1px solid #e8d79a;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  transform: rotate(45deg);
  transform-origin: center;
  pointer-events:none;      /* avoid intercepting clicks */
}
/* Subtle scaling on very small screens so it doesn't dominate */
@media (max-width: 639px){
  .card .ribbon{
    /*right:-52px;
    width:160px;*/
    font-size:.65rem;
    top:10px;
    /*padding-left:25px;*/
  }
}

/* Buttons */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
  padding:.6rem .9rem;border-radius:.65rem;border:1px solid var(--mrf-border);
  font-weight:600; line-height:1; letter-spacing:.005em;
  transition: background .18s ease, border-color .18s ease, box-shadow .18s ease, transform .18s ease;
}
.btn:active{ transform: translateY(1px); }
.btn-primary{ background: var(--mrf-primary); color: var(--mrf-text-on-primary); border-color: var(--mrf-primary) }
.btn-primary:hover{ background: var(--mrf-primary-700); }
.btn-outline{ background:#fff; color: var(--mrf-ink); border-color: var(--mrf-ink) }
.btn-outline:hover{ background:#f8fafc }

/* Remove verified chip entirely (1) — keep for safety if HTML still has it */
.btn-primary .verified{ display:none !important }

/* Card internals (7) */
.card h3{ font-weight:700; font-size: 1rem; line-height:1.3; letter-spacing:-.01em; max-width: 225px }
.card .category{ font-size:.78rem; color: var(--mrf-subtle); }
.card .desc{ font-size:.92rem; line-height:1.5; }

/* Grid rhythm */
[data-category-grid]{ row-gap: 1.25rem; column-gap: 1.25rem; }

/* Mobile filter UI (already shipped) */
.mobile-filter-bar{
  position: fixed; left:0; right:0; bottom:0; z-index:50;
  background:#ffffff; border-top:1px solid #e5e7eb;
  padding:.5rem .75rem; display:flex; gap:.5rem; justify-content:space-between; align-items:center;
}
.mobile-drawer{
  position: fixed; left:0; right:0; bottom:0; z-index:50;
  background:#ffffff; border-top-left-radius:1rem; border-top-right-radius:1rem;
  box-shadow: 0 -8px 24px rgba(0,0,0,.15);
  transform: translateY(100%); transition: transform .25s ease;
}
.mobile-drawer.open{ transform: translateY(0%); }
.mobile-drawer-header{ display:flex; align-items:center; justify-content:space-between; padding: .75rem 1rem; border-bottom:1px solid #eee; }
.mobile-drawer-body{ padding: 1rem; }

/* ---- Layout: consistent columns across categories (3,4) ---- */

/* Centered section width for each category */
section[id^="cat-"]{ max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
section[id^="cat-"] > h2{ margin: 0 auto .75rem; }

/* Uniform grid per breakpoint: mobile 1, tablet 2, desktop 3 */
section[id^="cat-"] > div[data-category-grid]{
  display:grid;
  gap:1.25rem;
  grid-template-columns: 1fr; /* mobile */
}
@media (min-width: 640px){ /* sm/tablet */
  section[id^="cat-"] > div[data-category-grid]{ grid-template-columns: repeat(2,minmax(0,1fr)) !important; }
}
@media (min-width: 1024px){ /* lg/desktop */
  section[id^="cat-"] > div[data-category-grid]{ grid-template-columns: repeat(3,minmax(0,1fr)) !important; justify-content:center; }
}

/* Keep single/odd cards visually centered */
section[id^="cat-"] > div[data-category-grid] > article{ max-width: 520px; margin: 0 auto; }

/* Center the jump-pill bar on desktop; hide it on mobile */
#jump{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;   /* centers horizontally */
  gap:.5rem;
  margin-top:.25rem;
}

/* mobile: we use the bottom drawer instead, so hide pills */
@media (max-width: 1023px){
  #jump{ display:none }
}

/* Mobile drawer show/hide helpers */
.mobile-drawer{ display:none }
.mobile-drawer.open{ display:block }

/* Keep the “Featured only” label on one line everywhere */
.featured-only-label{ white-space: nowrap; }

/* Hide ALL top filters on mobile: search, category dropdown, featured-only checkbox */
@media (max-width: 1023px){
  .dir-sticky #q,
  .dir-sticky .srch,
  .dir-sticky #cat,
  .dir-sticky #controls{
    display: none !important;
  }
}